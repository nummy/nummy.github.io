<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="description"><meta name="viewport" content="width=device-width, initial-scale=1"><title>scala学习笔记【3】数组 · Nummy</title><link rel="short icon" href="/favicon.ico"><!-- font--><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,600|Roboto Mono"><!-- icon--><link rel="stylesheet" href="/fonts/iconfont/iconfont.css"><!-- theme style--><link rel="stylesheet" href="/css/style.css"></head><body><div id="main"><header><a href="/." class="logo">Nummy</a><ul class="nav"><li class="nav-link"><a href="/" target="_self">Home</a></li><li class="nav-link"><a href="/archives/" target="_self">Archives</a></li><li class="nav-link"><a href="/categories/" target="_self">Categories</a></li><li class="nav-link"><a href="/tags/" target="_self">Tags</a></li><li class="nav-link"><a href="/about/" target="_self">About</a></li></ul></header><section id="container"><article class="post"><h1 class="post-title">scala学习笔记【3】数组</h1><span class="post-time">Sep 3, 2016</span><div id="sidebar" class="post-sidebar"><h3 class="heading">Directory</h3><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#定长数组"><span class="toc-text">定长数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#变长数组"><span class="toc-text">变长数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#遍历数组和数组缓存"><span class="toc-text">遍历数组和数组缓存</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数组转换"><span class="toc-text">数组转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#常用算法"><span class="toc-text">常用算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#多维数组"><span class="toc-text">多维数组</span></a></li></ol></div><div class="post-content"><h3 id="定长数组"><a href="#定长数组" class="headerlink" title="定长数组"></a>定长数组</h3><p>如果需要一个长度不变的数组，可以使用scala中的Array。</p>
<h3 id="变长数组"><a href="#变长数组" class="headerlink" title="变长数组"></a>变长数组</h3><p>变长数组使用ArrayBuffer，在数组缓存的尾端添加或者移除元素是一个高效的操作。</p>
<p>使用toArray将数组缓存转数组，使用toBuffer将数组转成缓存。</p>
<h3 id="遍历数组和数组缓存"><a href="#遍历数组和数组缓存" class="headerlink" title="遍历数组和数组缓存"></a>遍历数组和数组缓存</h3><p>使用for循环遍历数组或者缓存：<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>( i &lt;- <span class="number">0</span> until a.length)</div><div class="line">    println(i)</div></pre></td></tr></table></figure></p>
<p>如果想每两个元素一跳，可以这样遍历：<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">0</span> until (a.length,<span class="number">2</span>)</div></pre></td></tr></table></figure></p>
<p>如果想从数组的尾端开始，遍历写法为:<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(<span class="number">0</span> until a.length).reverse</div></pre></td></tr></table></figure></p>
<h3 id="数组转换"><a href="#数组转换" class="headerlink" title="数组转换"></a>数组转换</h3><p>从一个数组出发，以某种方式对它进行转换，这些转换操作不会修改原数组，而是产生一个新的数组。<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">val</span> a = <span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</div><div class="line"><span class="keyword">val</span> result = <span class="keyword">for</span>(elem &lt;- a) <span class="keyword">yield</span> <span class="number">2</span>*elem</div></pre></td></tr></table></figure></p>
<p>结果返回一个类型与原始集合相同的新集合。<br>我们也可以给转换增加过滤条件：<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(elem &lt;- a <span class="keyword">if</span> elem % <span class="number">2</span> == <span class="number">0</span>） <span class="keyword">yield</span> <span class="number">2</span> * elem</div></pre></td></tr></table></figure></p>
<p>注意原始集合并没有受到影响。</p>
<p>另一种做法是：<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">a.filter(_ % <span class="number">2</span> == <span class="number">0</span>).map(<span class="number">2</span> * _)</div></pre></td></tr></table></figure></p>
<p>甚至：<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">a.filter&#123; _ % <span class="number">2</span> == <span class="number">0</span> &#125; map &#123;<span class="number">2</span> * _&#125;</div></pre></td></tr></table></figure></p>
<h3 id="常用算法"><a href="#常用算法" class="headerlink" title="常用算法"></a>常用算法</h3><p>求和<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>).sum</div></pre></td></tr></table></figure></p>
<p>最小值和最大值<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>).min</div><div class="line"><span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>).max</div></pre></td></tr></table></figure></p>
<p>排序<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="type">Array</span>(<span class="number">5</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">4</span>).sorted(_ &lt; _)</div></pre></td></tr></table></figure></p>
<p>显示数组内容：<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">a.mkString</div><div class="line">a.mkString(<span class="string">" and "</span>)</div><div class="line">a.mkString(<span class="string">"&lt;"</span>,<span class="string">","</span>,<span class="string">"&gt;"</span>)</div></pre></td></tr></table></figure></p>
<h3 id="多维数组"><a href="#多维数组" class="headerlink" title="多维数组"></a>多维数组</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">val</span> matrix = <span class="type">Array</span>.ofDim[<span class="type">Double</span>](<span class="number">3</span>,<span class="number">4</span>)</div></pre></td></tr></table></figure>
</div></article><div class="tags"><a href="/tags/scala/">scala</a></div><div class="paginator"><a href="/2016/09/03/scala-map-and-tuple/" class="prev"><i class="iconfont icon-left"></i><span> Prev</span></a><a href="/2016/09/03/scala-flow/" class="next"><span>Next</span><i class="iconfont icon-right"></i></a></div><section id="comments"><div data-thread-key="http://nummy.github.io/2016/09/03/scala-array/index.html" data-title="scala学习笔记【3】数组" data-url="http://nummy.github.io/2016/09/03/scala-array/index.html" class="ds-thread"></div><script type="text/javascript">var duoshuoQuery = {short_name: "nummy" };
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
})();</script></section></section><footer><div class="copyright"><p>&copy;2016<span class="heart"><i class="iconfont icon-heart"></i></span><span class="author">Nummy Lee</span></p><p class="theme">Theme by <a href="https://github.com/ahonn/hexo-theme-even"> Even</a></p></div><label id="back2top"><i class="iconfont icon-up"></i></label></footer></div></body><script src="/js/zepto.min.js"></script><script src="/js/theme.js"></script></html>